"use strict";(self.webpackChunkreact_task3=self.webpackChunkreact_task3||[]).push([[302],{302:(e,t,a)=>{a.r(t),a.d(t,{default:()=>B});var n=a(791),s=a(167),l=a(984);var c=a(184);const i=n.forwardRef(((e,t)=>{const a=(0,n.useRef)();return(0,n.useImperativeHandle)(t,(()=>({getValue:()=>a.current.value})),[]),(0,c.jsxs)("div",{className:"form-group row pb-2 ".concat(e.className&&e.className),children:[(0,c.jsx)("label",{htmlFor:e.name,className:"col-sm-2 col-form-label",children:e.name}),(0,c.jsxs)("div",{className:"col-sm-10",children:[e.textarea&&(0,c.jsx)("textarea",{className:"form-control",id:e.name,rows:"3",ref:a,value:e.value,onChange:e.onChange,onBlur:e.onBlur,defaultValue:e.defaultValue,readOnly:e.readOnly,...e.input}),!e.textarea&&(0,c.jsx)("input",{type:"text",className:"form-control",id:e.name,ref:a,value:e.value,onChange:e.onChange,onBlur:e.onBlur,defaultValue:e.defaultValue,readOnly:e.readOnly,...e.input})]})]})}));var r=a(119),o=a(430),d=a(817);const m={input:"",touched:""},u=(e,t)=>{switch(t.type){case"SET_INPUT":return{...e,input:t.input};case"BLUR":return{...e,touched:!0};default:return m}};const h=function(e){const[t,a]=(0,n.useReducer)(u,m);let s=!e||e(t.input);const l=!s&&t.touched;return[t.input,e=>{a({type:"SET_INPUT",input:e})},s,l,e=>{a({type:"SET_INPUT",input:e.target.value})},e=>{a({type:"BLUR"})},()=>{a({type:"RESET"})}]},x="ProductForm_form__3OYhm",p="ProductForm_invalid__kHoRD",N="ProductForm_error-text__u1+hb",g=e=>0!==e.trim().length;const j=function(e){const t=(0,n.useContext)(s.Z),[a,m]=(0,n.useState)(!0);let u;e.content&&(u={...e.content},delete u.ID);const[j,b,f,v,k,C,w]=h(g),[_,y]=(0,n.useState)(u?u["Alt Name"]:""),[D,I,F,P,S,Z,E]=h(g),[T,A,B,M,O,R,W]=h((e=>e>=1)),[H,U]=(0,n.useState)(u?u.New:"false"),[V,q,K,L,Y,z,Q]=h((e=>0===e.toString().trim().length||1<=parseInt(e)&&parseInt(e)<100)),[X,G]=(0,n.useState)({image:u?u.Image:"",valid:!0});u&&a&&(m(!1),b(u.Name),I(u.Description),A(u.Price),q(u.Discount?u.Discount:""));let J=f&&F&&B&&K;return(0,c.jsxs)("form",{id:"form",className:x,children:[(0,c.jsx)(i,{className:"".concat(v&&p),name:"Name",input:{placeholder:"Name"},value:j,onChange:k,onBlur:C}),v&&(0,c.jsx)("p",{className:N,children:"Invalid Name"}),(0,c.jsx)(i,{name:"Alt Name",input:{placeholder:"Alt Name (Same As Name By Default)"},value:_,onChange:e=>{y(e.target.value)}}),(0,c.jsx)(i,{className:"".concat(P&&p),name:"Description",input:{placeholder:"Description"},value:D,onChange:S,onBlur:Z,textarea:!0}),P&&(0,c.jsx)("p",{className:N,children:"Invalid Description"}),(0,c.jsx)(i,{className:"".concat(M&&p),name:"Price",input:{placeholder:"Price",type:"number",min:1,step:.01},value:T,onChange:O,onBlur:R}),M&&(0,c.jsx)("p",{className:N,children:"Invalid Price"}),(0,c.jsx)("fieldset",{className:"form-group py-2",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("legend",{className:"col-form-label col-sm-2 pt-0",children:"New"}),(0,c.jsx)("div",{className:"col-sm-10",children:(0,c.jsxs)("div",{className:"form-check px-0",children:[(0,c.jsx)(d.Z,{className:"m-0",name:"New",id:"true",value:"true",onChange:U.bind(null,"true"),checked:u&&"true"===u.New}),(0,c.jsx)("label",{className:"form-check-label me-5",htmlFor:"true",children:"True"}),(0,c.jsx)(d.Z,{className:"m-0",name:"New",id:"false",value:"false",onChange:U.bind(null,"false"),checked:!(u&&u.New)}),(0,c.jsx)("label",{className:"form-check-label me-5",htmlFor:"false",children:"False"})]})})]})}),(0,c.jsx)(i,{className:"".concat(!K&&p),name:"Discount",input:{placeholder:"Discount Percentage (1-99)",type:"number",min:1,step:1,max:99},value:V,onChange:Y,onBlur:z}),!K&&(0,c.jsx)("p",{className:N,children:"Invalid Discount"}),(0,c.jsx)(i,{className:"".concat(!X.valid&&p),name:"Image",onChange:e=>{var t=e.target.files[0],a=new FileReader;a.onloadend=function(){G({image:a.result,valid:a.result.startsWith("data:image/webp;base64,")&&a.result.trim().length>"data:image/webp;base64,".trim().length})},(0,l.Z)(t,{fileType:"image/webp",initialQuality:.95}).then((e=>{const t=new File([e],"test.webp",{type:"image/webp"});a.readAsDataURL(t)}))},input:{type:"file",accept:"image/*"}}),!X.valid&&(0,c.jsx)("p",{className:N,children:"Invalid Image"}),(0,c.jsx)("div",{className:"form-group row pt-3",children:(0,c.jsxs)("div",{className:"container-fluid d-flex justify-content-end",children:[(0,c.jsx)(r.Z,{onClick:a=>{a.preventDefault();let n=X.image.startsWith("data:image/webp;base64,")&&X.image.length>23;if(G((e=>({...e,valid:n}))),J=J&&n,!J)return;let s={name:j,alt:0===_.trim().length?j:_,description:D,price:parseFloat(T),src:X.image};"true"===H&&(s={...s,new:"true"}),0!==V.toString().trim().length&&(s={...s,discount:parseInt(V)}),u?(s={...s,alt:_},t.editProduct(e.ID,s)):t.addProduct(s),w(),y(""),E(),W(),U("false"),Q(),G({image:"default",valid:!1}),e.onClick()},className:"mx-2",text:"Submit",disabled:!J}),(0,c.jsx)(o.Z,{onClick:e.onClick,className:"mx-2",text:"Cancel"})]})})]})},b="TableHeader_header-row__mbTZD",f="TableHeader_header-item__+qemo";function v(e){const t=e.headers.map(((e,t)=>(0,c.jsx)("th",{className:f,children:e},"header".concat(t))));return(0,c.jsx)("thead",{children:(0,c.jsx)("tr",{className:b,children:t})})}const k=n.memo(v);var C=a(164);const w={backdrop:"Modal_backdrop__MtgIY","no-form":"Modal_no-form__K74h9",modal:"Modal_modal__KTaFQ","slide-down":"Modal_slide-down__N6TWj"};function _(e){return(0,c.jsx)("div",{className:w.backdrop,onClick:e.onClick})}function y(e){return(0,c.jsx)("div",{className:"".concat(w.modal," ").concat(e.noForm&&w["no-form"]),children:(0,c.jsx)("div",{className:w.content,children:e.children})})}const D=function(e){return(0,c.jsxs)(c.Fragment,{children:[C.createPortal((0,c.jsx)(_,{onClick:e.onClick}),document.getElementById("overlay")),C.createPortal((0,c.jsx)(y,{noForm:e.noForm,children:e.children}),document.getElementById("overlay"))]})};var I=a(234);const F="TableCell_cell-item__RAftp",P="TableCell_cell-row__hrntF";function S(e){const t=(0,n.useContext)(s.Z),[a,l]=(0,n.useState)(!1),[i,d]=(0,n.useState)(!1),m=()=>{d((e=>!e))};let u=Object.keys(e.content).map(((t,a)=>(0,c.jsxs)("td",{className:F,children:[e.content[t]&&!e.content[t].toString().startsWith("data:image/webp;base64,")&&"New"!==t&&e.content[t],e.content[t]&&!e.content[t].toString().startsWith("data:image/webp;base64,")&&"New"===t&&(0,c.jsx)(I.Z,{iconName:"bi bi-check-square-fill",style:{color:"#b88e2f"}}),e.content[t]&&e.content[t].toString().startsWith("data:image/webp;base64,")&&(0,c.jsx)("img",{src:e.content[t],alt:e.content["Alt Name"],className:"img-fluid w-100",style:{height:"200px",objectFit:"cover"}})]},"cell".concat(e.rowNumber).concat(a))));return u=u.concat((0,c.jsxs)("td",{className:F,children:[!a&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.Z,{className:"",text:"Edit",onClick:m}),(0,c.jsx)(r.Z,{text:"Delete",onClick:l.bind(null,!0)})]}),a&&(0,c.jsxs)("div",{className:"container",children:[(0,c.jsx)("p",{children:"Confirm Delete?"}),(0,c.jsx)(r.Z,{className:"mx-1",text:"Yes",onClick:t.deleteProduct.bind(null,e.ID)}),(0,c.jsx)(o.Z,{className:"mx-1 px-3",text:"No",onClick:l.bind(null,!1)})]})]},"cell".concat(e.rowNumber,"modify"))),(0,c.jsxs)(c.Fragment,{children:[i&&(0,c.jsxs)(D,{onClick:m,children:[(0,c.jsxs)("p",{className:"m-0 p-3",style:{backgroundColor:"#b88e2f",color:"white"},children:["Editing Product with ID: ",e.ID]}),(0,c.jsx)(j,{onClick:m,edit:!0,ID:e.ID,content:e.content})]}),(0,c.jsx)("tr",{className:P,children:u})]})}const Z=n.memo(S),E="Table_styled-table__nKwMX";const T=function(e){const t=(0,n.useContext)(s.Z),a=Object.keys(t.products).map(((e,a)=>(0,c.jsx)(Z,{ID:e,rowNumber:a,content:{ID:e,Name:t.products[e].name,"Alt Name":t.products[e].alt,Description:t.products[e].description,Price:t.products[e].price,New:t.products[e].new,Discount:t.products[e].discount,Image:t.products[e].src}},e)));return(0,c.jsxs)("table",{className:E,children:[(0,c.jsx)(k,{headers:(0,n.useMemo)((()=>["Product ID","Name","Alt Name","Description","Price","New","Discount","Image","Modify"]),[])}),(0,c.jsx)("tbody",{children:a})]})},A="Dashboard_limit-height__dEhql";const B=function(e){document.title="Dashboard";const t=(0,n.useContext)(s.Z);return(0,c.jsxs)(c.Fragment,{children:[t.errorMessage&&(0,c.jsxs)(D,{onClick:t.setErrorMessage.bind(null,void 0),noForm:!0,children:[(0,c.jsx)("p",{children:"An Error occured"}),(0,c.jsxs)("p",{children:["Error Message: ",t.errorMessage]}),(0,c.jsx)("div",{className:"container text-end",children:(0,c.jsx)(r.Z,{onClick:t.setErrorMessage.bind(null,void 0),className:"mx-2",text:"Ok"})})]}),t.adding&&(0,c.jsx)(D,{onClick:t.toggleAdding,children:(0,c.jsx)(j,{onClick:t.toggleAdding,add:!0})}),t.submitted&&(0,c.jsxs)(D,{noForm:!0,onClick:t.toggleAdding,children:[(0,c.jsxs)("p",{children:["Product Submitted Successfully with ID: ",t.submitted]}),(0,c.jsx)("div",{className:"container text-end",children:(0,c.jsx)(r.Z,{onClick:t.setSubmitted.bind(null,void 0),className:"mx-2",text:"Ok"})})]}),t.edited&&(0,c.jsxs)(D,{noForm:!0,onClick:t.setEdited.bind(null,!1),children:[(0,c.jsx)("p",{children:"Product Edited Successfully"}),(0,c.jsx)("div",{className:"container text-end",children:(0,c.jsx)(r.Z,{onClick:t.setEdited.bind(null,!1),className:"mx-2",text:"Ok"})})]}),(0,c.jsxs)("div",{className:"container-fluid px-5 pb-5 ".concat(A),children:[(0,c.jsx)("div",{className:"container-fluid d-flex justify-content-center my-5",children:(0,c.jsx)(r.Z,{className:"w-25",text:"New Product",onClick:t.toggleAdding})}),(0,c.jsx)(T,{})]})]})}},119:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(184);const s=function(e){return(0,n.jsx)("button",{className:"btn yellow-button ".concat(e.className&&e.className),style:{fontWeight:"650",fontSize:"16px",lineHeight:"24px"},onClick:e.onClick,hidden:e.hidden,type:e.type,disabled:e.disabled,children:e.text})}},430:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(184);const s=function(e){return(0,n.jsx)("div",{className:"btn yellow-button-outline ".concat(e.className&&e.className),style:{fontWeight:"700",fontSize:"16px",lineHeight:"24px"},onClick:e.onClick,hidden:e.hidden,children:e.text})}},817:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(184);const s=e=>(0,n.jsxs)("div",{className:"form-check form-check-inline ".concat(e.className&&e.className),children:[(0,n.jsx)("input",{"aria-label":e.id,className:"radio-button",type:"radio",name:e.name,id:e.id,value:e.value,defaultChecked:e.checked,onClick:e.onClick,onChange:e.onChange}),e.label&&(0,n.jsx)("label",{class:"form-check-label",for:e.id,children:e.value})]})}}]);
//# sourceMappingURL=302.1a53d804.chunk.js.map